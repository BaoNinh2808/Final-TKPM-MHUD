<div class="main-content"
    style="background-color: #f3f4f8; display: flex; flex-direction: column; width: calc(100% - 120px);">
    <div class="main-area flex-grow-1 px-3" style="min-height: 600px;">
        <!-- status of task -->
        <div class="row align-items-center mt-3 d-none d-md-flex flex-nowrap overflow-auto pb-2">
            <div class="col d-none d-lg-block white-hover">
                <div class="container-fluid task-status p-3 hover-shadow-box">
                    <div class="row align-items-center">
                        <div class="col-2">
                            <div class="circle primary-background">
                                <div class="inner-icon">
                                    <i class="bi bi-star color-gray fs-6"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="fw-medium fs-6 color-gray">
                                Total Files
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="fw-bold fs-4 color-black">
                                08
                            </div>
                        </div>
                    </div>

                    <hr class="horizontal-line gray-background" />

                    <div class="status-container mt-4 row align-items-center">
                        <div class="col status-line">
                            <img src="/img/status-line-1.png" alt="status-line" width="115" />
                        </div>
                        <div class="col status-line-description ps-0">
                            <div class="align-end">
                                <span class="color-green fw-bold fs-6">
                                    10+
                                </span>
                                <span class="fs-6 fw-medium color-gray ms-1">
                                    more
                                </span>
                            </div>
                            <div class="align-end">
                                <span class="fs-6 fw-medium color-gray">
                                    from last week
                                </span>
                            </div>

                        </div>
                    </div>

                </div>
            </div>

            <div class="col d-none d-md-block">
                <div class="container-fluid task-status p-3 hover-shadow-box">
                    <div class="row align-items-center">
                        <div class="col-2">
                            <div class="circle primary-background">
                                <div class="inner-icon">
                                    <i class="bi bi-file-earmark-text color-gray fs-6"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="fs-6 fw-medium color-gray">
                                Total Public Files
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="fw-bold fs-4 color-black">
                                100
                            </div>
                        </div>
                    </div>

                    <hr class="horizontal-line gray-background" />

                    <div class="status-container mt-4 row align-items-center">
                        <div class="col status-line">
                            <img src="/img/status-line-1.png" alt="status-line" width="115" />
                        </div>
                        <div class="col status-line-description ps-0">
                            <div class="align-end">
                                <span class="color-green fw-bold fs-6">
                                    10+
                                </span>
                                <span class="fs-6 fw-medium color-gray ms-1">
                                    more
                                </span>
                            </div>
                            <div class="align-end">
                                <span class="fs-6 fw-medium color-gray">
                                    from last week
                                </span>
                            </div>

                        </div>
                    </div>

                </div>
            </div>

            <div class="col">
                <div class="container-fluid task-status p-3 hover-shadow-box">
                    <div class="row align-items-center">
                        <div class="col-2">
                            <div class="circle primary-background">
                                <div class="inner-icon">
                                    <i class="bi bi-star color-gray fs-6"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="fs-6 fw-medium color-gray">
                                Monthly Upload
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="fw-bold fs-4 color-black">
                                10
                            </div>
                        </div>
                    </div>

                    <hr class="horizontal-line gray-background" />

                    <div class="status-container mt-4 row align-items-center">
                        <div class="col status-line">
                            <img src="/img/status-line-1.png" alt="status-line" width="115" />
                        </div>
                        <div class="col status-line-description ps-0">
                            <div class="align-end">
                                <span class="color-green fw-bold fs-6">
                                    08+
                                </span>
                                <span class="fs-6 fw-medium color-gray ms-1">
                                    more
                                </span>
                            </div>
                            <div class="align-end">
                                <span class="fs-6 fw-medium color-gray">
                                    from last week
                                </span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- add project -->
            <div class="col-2 d-flex justify-content-center align-items-center">
                <div class="add-project hover-to-bg-light-violet clickable hover-shadow-box" data-bs-toggle="modal"
                    data-bs-target="#modal-upload-file">
                    <i class="bi bi-plus-circle mb-1 fs-3"></i>
                    <div class="fs-6 fw-medium">
                        Add File
                    </div>
                </div>
            </div>
        </div>

        <!-- title of project list -->
        <div class="row align-items-center mt-3">
            <div class="col-lg-2 col-4 fw-bold fs-4 color-deep-violet">
                My Files
            </div>

            <!-- add-project -->
            <div class="col-lg-4 col-8">
                <div class="add-new-project p-2 hover-to-bg-darken-green clickable" data-bs-toggle="modal"
                    data-bs-target="#modal-upload-file">
                    <i class="bi bi-plus-lg color-deep-violet fs-3"></i>
                    <span class="color-deep-violet fw-medium fs-5 ps-2">Add New File</span>
                </div>
            </div>

            <!-- filter -->
            <div class="col-lg-6 col-12 d-none d-sm-block mt-sm-3 mt-lg-0">
                <div class="row align-items-center">
                    <div class="col d-block d-lg-none">

                    </div>
                    <div class="col-2 text-center pt-4">
                        <span class="color-deep-violet fw-bold fs-5">Filter</span>
                    </div>
                    <div class="col-lg-3 col-3">
                        <div>
                            <div class="color-deep-violet fw-medium fs-6 mb-1">Type</div>
                            <select class="form-select form-select-sm" aria-label=".dropdown-for-file-type" id="filter-type">
                                {{#if type}}
                                    <option></option> 
                                {{else}}
                                    <option selected></option>
                                {{/if}}
                                <option value="pdf" {{#if (eq type "pdf")}} selected {{/if}}>PDF</option>
                                <option value="docx" {{#if (eq type "docx")}} selected {{/if}}>DOCX</option>
                                <option value="xlsx" {{#if (eq type "xlsx")}} selected {{/if}}>XLSX</option>
                                <option value="pptx" {{#if (eq type "pptx")}} selected {{/if}}>PPTX</option>
                                <option value="txt" {{#if (eq type "txt")}} selected {{/if}}>TXT</option>
                                <option value="jpg" {{#if (eq type "jpg")}} selected {{/if}}>JPG</option>
                                <option value="png" {{#if (eq type "png")}} selected {{/if}}>PNG</option>
                                <option value="mp3" {{#if (eq type "mp3")}} selected {{/if}}>MP3</option>
                                <option value="mp4" {{#if (eq type "mp4")}} selected {{/if}}>MP4</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-3">
                        <div>
                            <div class="color-deep-violet fw-medium fs-6 mb-1">Public</div>
                            <select class="form-select form-select-sm" aria-label=".dropdown-for-public-file" id="filter-public">
                                {{#if public}}
                                    <option></option> 
                                {{else}}
                                    <option selected></option>
                                {{/if}}
                                <option value="Yes" {{#if (eq public "Yes")}} selected {{/if}}>Yes</option>
                                <option value="No" {{#if (eq public "No")}} selected {{/if}}>No</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-3">
                        <div>
                            <div class="color-deep-violet fw-medium fs-6 mb-1">Created Date</div>
                            <select class="form-select form-select-sm" aria-label=".dropdown-for-created-date" id="filter-created-date">
                                {{#if date}}
                                    <option></option> 
                                {{else}}
                                    <option selected></option>
                                {{/if}}
                                <option value="1" {{#if (eq date "1")}} selected {{/if}}>Today</option>
                                <option value="7" {{#if (eq date "7")}} selected {{/if}}>Last 7 days</option>
                                <option value="30" {{#if (eq date "30")}} selected {{/if}}>Last 30 days</option>
                                <option value="365" {{#if (eq date "365")}} selected {{/if}}>This year</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Files-->
        <div class="row align-items-center mt-2">
            <div class="col-1 d-flex align-items-center d-none d-lg-block text-center"
                style="height: 100%; margin-right: -25px;">
                <div class="fw-bold fs-6 color-deep-violet">
                    Type
                </div>
            </div>

            <div class="col-md-9 col-9" style="flex-grow: 1;">

                <div class="row align-items-center">
                    <div class="col col-sm-4">
                        <div class="fw-bold fs-5 color-deep-violet">
                            File Name
                        </div>
                    </div>

                    <div class="col d-none d-lg-block text-center">
                        <div class="fw-bold fs-6 color-deep-violet">
                            Size
                        </div>
                    </div>

                    <div class="col d-none d-lg-block text-center" style="margin-right: -20px;">
                        <div class="fw-bold fs-6 color-deep-violet">
                            Password
                        </div>
                    </div>

                    <div class="col text-center d-none d-sm-block">
                        <div class="color-deep-violet" style="font-weight: 600;">
                            Created Date
                        </div>
                    </div>

                    <div class="col text-center d-none d-sm-block">
                        <div class="fw-bold fs-6 color-deep-violet">
                            Action
                        </div>
                    </div>

                    <div class="col d-none d-md-block text-center">
                        <div class="fw-bold fs-6 color-deep-violet">
                            Public
                        </div>
                    </div>
                </div>
            </div>

            <!-- Download -->
            <div class="col-3 col-sm-2 p-2 d-flex align-items-center" style="height: 100%;">
                <div class="fw-bold fs-6 color-deep-violet">
                    Download
                </div>
            </div>
        </div>

        {{#each documents}}
        <div class="full-width-box white-background p-1 hover-shadow-box mt-1">
            <div class="row align-items-center">
                <div class="col-1 d-flex align-items-center d-none d-lg-block text-center"
                    style="height: 100%; margin-right: -25px;">
                    <i class="{{mimeIcon file_format}} fs-3"></i>
                </div>

                <div class="col-md-9 col-9" style="flex-grow: 1;">

                    <div class="row align-items-center">
                        <div class="col col-sm-4">
                            <div class="fw-medium fs-5 color-deep-violet text-wrap">
                                {{name}}
                            </div>
                        </div>

                        <div class="col d-none d-lg-block text-center">
                            <div class="fw-medium fs-5 color-deep-violet">
                                {{formatBytes file_size}}
                            </div>
                        </div>

                        <div class="col d-none d-lg-block text-center">
                            <div class="fw-medium fs-5 color-deep-violet">
                                {{#if has_password}}
                                Yes
                                {{else}}
                                No
                                {{/if}}
                            </div>
                        </div>

                        <div class="col text-center d-none d-sm-block">
                            <div class="fw-medium fs-5 color-deep-violet">
                                {{formatDate created_date}}
                            </div>
                        </div>

                        <div class="col text-center d-none d-sm-block">
                            <div class="fw-medium fs-5 color-deep-violet">
                                <i class="bi bi-share color-blue fs-5 pe-2" style="cursor: pointer;" data-cid="{{CID}}"
                                    data-bs-toggle="modal" data-bs-target="#modal-share-file"></i>

                                <i class="bi bi-trash3 color-red fs-5" data-file-name="{{name}}" data-bs-toggle="modal"
                                    data-bs-target="#modal-delete-file" style="cursor: pointer;"></i>
                            </div>
                        </div>

                        <div class="col d-none d-md-block text-center">
                            <div class="fw-medium fs-5 color-deep-violet">
                                {{#if is_public}}
                                Yes
                                {{else}}
                                No
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Download -->
                <div class="col-3 col-sm-2 p-2 d-flex align-items-center" style="height: 100%;">
                    <div class="download hover-to-bg-light-violet clickable" data-cid="{{CID}}"
                        data-file-name="{{name}}">
                        <i class="bi bi-cloud-download color-blue d-none d-md-block" style="font-size: 18pt;"></i>
                        <span class="color-blue fs-6 fw-medium ps-2 text-center">Download</span>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
</div>

{{#block "modal"}}

<div class="modal fade" id="modal-upload-file" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content align-items-center fw-bold color-deep-violet primary-background"
            style="padding: 0 6%;">
            <div class="modal-header" style="border-bottom: none;">
                <p class="modal-title fs-3" id="modalTitleId">
                    Upload New File
                </p>
            </div>
            <div class="modal-body"
                style="border-bottom: none; width: 100%; display: flex; justify-content: center; align-items: center;">

                <div class="upload-container">
                    <div class="drag-area">
                        <div class="icon">
                            <i class="fas fa-file-upload"></i>
                        </div>
                        <span class="header">Drag & Drop</span>
                        <span class="header">or <span class="button">browse</span></span>
                        <input type="file" hidden multiple />
                        <span class="support">Supports: TXT, JPEG, JPG, PNG, PDF, XLSX, PPTX, DOCX, MP3, MP4</span>
                    </div>
                    <div class="row justify-content-center align-items-center">
                        <div class="col text-center">
                            <button class="remove" style="display: none;">Remove</button>
                        </div>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-8">
                        <div class="mb-1 password-container p-0">
                            <div class="color-deep-violet fw-bold fs-6 mb-1">File Password</div>
                            <div class="position-relative">
                                <input type="password" class="form-control" id="passwordInput"
                                    aria-describedby="passwordDescription" placeholder="Enter Your Password">
                                <i class="fas fa-eye position-absolute" id="togglePassword"
                                    style="right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                            </div>
                            <div id="passwordDescription" class="form-text fw-normal">Password will not be sent to
                                server.</div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div>
                            <div class="color-deep-violet fw-bold fs-6 mb-1">Make Public</div>
                            <select class="form-select form-select-sm" aria-label=".dropdown-for-public-sharing"
                                id="publicSharingSelect">
                                <option selected value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                    </div>

                </div>
            </div>

            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Close
                </button>
                <button type="button" class="btn btn-primary" id="upload-new-file-button">Upload</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-delete-file" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content align-items-center fw-bold color-deep-violet primary-background"
            style="padding: 0 6%;">
            <div class="modal-header" style="border-bottom: none;">
                <p class="modal-title fs-3" id="modalTitleId">
                    Delete File
                </p>
            </div>
            <div class="modal-body" style="border-bottom: none; width: 100%;">
                <div class="row mb-3">
                    <div class="col">
                        <p class="color-black mt-0 fw-medium">Are you sure you want to delete this file?</p>
                        <p class="color-black mt-0 fw-medium">When a file is deleted, you will no longer see it.</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-share-file" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content align-items-center fw-bold color-deep-violet primary-background"
            style="padding: 0 6%;">
            <div class="modal-header" style="border-bottom: none;">
                <p class="modal-title fs-3" id="modalTitleId">
                    Share Your File
                </p>
            </div>
            <div class="modal-body" style="border-bottom: none; width: 100%;">
                <div class="row mb-3">
                    <div class="col">
                        <p class="color-black fw-medium mb-1">Share this link with anyone you want to grant access
                            to your file.</p>
                        <p class="color-black fw-medium mt-0">Anyone with this link can view your file by opening it
                            in their browser.</p>
                    </div>
                </div>
                <div class="text-center">
                    <div class="sharing-link-box">
                        <p class="sharing-link mb-0">my link</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" id="copyLinkBtn">Copy</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-enter-password" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content align-items-center fw-bold color-deep-violet primary-background"
            style="padding: 0 6%;">
            <div class="modal-header" style="border-bottom: none;">
                <p class="modal-title fs-3" id="modalTitleId">
                    Enter Password
                </p>
            </div>
            <div class="modal-body" style="border-bottom: none; width: 100%;">
                <div class="color-deep-violet fw-bold fs-6 mb-1">File Password</div>
                <div class="position-relative">
                    <input type="password" class="form-control" id="decryptPasswordInput"
                        placeholder="Enter Your Password">
                    <i class="fas fa-eye position-absolute" id="toggleDecryptPassword"
                        style="right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                </div>
            </div>
            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" id="enterPassBtn">Get File</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-public-sharing" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
        <div class="modal-content align-items-center fw-bold color-deep-violet primary-background"
            style="padding: 0 6%;">
            <div class="modal-header" style="border-bottom: none;">
                <p class="modal-title fs-3" id="modalTitleId">
                    Make Your File Public?
                </p>
            </div>
            <div class="modal-body" style="border-bottom: none; width: 100%;">
                <div class="row mb-3">
                    <div class="col">
                        <p class="color-black mt-0 fw-medium">Are you sure you want to make your file public?</p>
                        <p class="color-black mt-0 fw-medium">When file public, it will <strong>not have password</strong> and anyone can see it.</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" id="confirmPublicSharingButton">Confirm</button>
            </div>
        </div>
    </div>
</div>

{{/block}}


{{#block "script"}}
<script src="/js/modal.js"></script>
<script src="/js/deleteFile.js"></script>
<script src="/js/shareLink.js"></script>
<script src="/js/downloadFile.js"></script>
<script src="/js/encryptFile.js"></script>
<script src="/js/homeFilterFile.js"></script> 
{{/block}}